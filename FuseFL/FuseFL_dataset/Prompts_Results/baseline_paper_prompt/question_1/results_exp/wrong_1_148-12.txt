This line assumes that 'val' is greater than or equal to the last item in 'seq', but it should actually be less than or equal to the last item.