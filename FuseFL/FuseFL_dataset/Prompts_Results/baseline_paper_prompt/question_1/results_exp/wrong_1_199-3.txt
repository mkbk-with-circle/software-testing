Checking if the sequence is empty should be done before accessing seq[0].