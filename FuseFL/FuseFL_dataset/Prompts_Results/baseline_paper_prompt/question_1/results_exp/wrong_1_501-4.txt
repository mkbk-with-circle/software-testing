The return statement is inside the for loop, which might cause premature termination of the function