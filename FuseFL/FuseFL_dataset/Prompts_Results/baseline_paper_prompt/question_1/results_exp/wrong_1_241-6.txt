Incorrect comparison in the first condition, causing incorrect results