The condition is incorrect and won't check for duplicates properly