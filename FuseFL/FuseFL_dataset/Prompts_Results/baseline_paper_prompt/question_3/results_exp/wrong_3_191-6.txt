Potential bug: Comparing elements using '==' instead of '!='.