The counter variable might not be used or updated correctly.