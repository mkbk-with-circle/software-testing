The counter is not correctly updated within the loop, leading to incorrect results.